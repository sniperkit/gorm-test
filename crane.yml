services:

# usage:
# $ crane cmd console
# $ crane cmd console test
commands:
  # proxy: lift --no-cache -d nginx
  # console: docker-clean && crane provision -v console
  # console: run dev bin/rails c
  # server: run dev
  # rspec: run dev bin/rspec
  # rubocop: run dev bin/rubocop
  # psql: exec postgres psql

# https://stackoverflow.com/questions/26291260/restart-nginx-container-when-upstream-servers-is-updated
# commands:
  # nginx: run nginx -s reload -g daemon off; # run nginx -g daemon off;
  # build: run crane make build
  # build-darwin: run crane make build-darwin
  # build-darwin-pro: run crane make build-darwin-pro
  # gofmt: run crane gofmt -w crane

  # console:
    # set hostname (ref. https://www.craneup.tech/docs/config#services)
    # hostname: test.gorm.io

# to add
# - https://github.com/frol/ddots-api-server
groups:
  elw:
  - nginx
  - console
  - postgres
  - elstack
  dev:
  - mysql
  - mariadb
  - manticore
  - postgres
  - console
  # - elstack
  rmdb:
  - mysql
  - mariadb
  - postgres
  - manticore
  rmdb-base:
  - mysql
  - mariadb
  - postgres
  sphinx:
  - mysql
  - mariadb
  - postgres
  - manticore
  elk:
  - elstack

accelerated-mounts:
  nginx:
    uid: 1000
    gid: 1000
  mysql:
    uid: 1000
    gid: 1000
  postgres:
    uid: 1000
    gid: 1000